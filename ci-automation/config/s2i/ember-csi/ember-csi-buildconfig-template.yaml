apiVersion: v1
kind: Template
metadata:
  name: ember-csi
labels:
  template: ember-csi

objects:
- kind: ImageStream
  apiVersion: v1
  metadata:
    name: "ember-csi"
    annotations:
      description: "A container running ember-csi"
      openshift.io/display-name: "ember-csi"
      iconClass: ember-csi
      tags: "ember-csi"
      openshift.io/provider-display-name: "Red Hat, Inc."
  spec: {}

- kind: BuildConfig
  apiVersion: v1
  metadata:
    name: "ember-csi"
  spec:
    triggers:
    - type: GitHub
    source:
      type: Git
      git:
        - uri: "https://github.com/lioramilbaum/ember-csi.git"
        - ref: "ci-automation-2"
      contextDir: "ci-automation"
    strategy:
      sourceStrategy:
        from:
          - kind: "ImageStreamTag"
          - namespace: "ember-csi"
          - name: ember-csi:latest
      type: Source
    output:
      to:
        kind: ImageStreamTag
        name: ember-csi:latest
